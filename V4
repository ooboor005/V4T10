local HttpService = game:GetService("HttpService")
local Workspace = game:GetService("Workspace")
local DoorStatus = false
getgenv().Key = "MARU-6Z7T-6BL64-SA97-L4KAQ-YS0X"
getgenv().id = "354662781859004417"
local MaruHubConfig = {
    InstanceStats = false,
    AutoBuyFruitsAdvanceStock = false,
    AutoClick = false,
    ImageKaitun = "",
    SemiNoBusyCharacter = false,
    AutoHallowScythe = false,
    AutoFarmChests = false,
    SemiNoClip = false,
    EnabledFactoryFarm = false,
    EnabledResetCharacter = false,
    AutoFarmSeaEvents = false,
    EnabledDriveBoats = false,
    AutoAwakenerFruits = false,
    AutoSharkmanKarate = false,
    HopUntilFoundGodChalice = false,
    AutoRandomFruits = false,
    AutoTrident = false,
    LimitValues = false,
    ByPassTP = false,
    AutoRainbowHaki = false,
    PlayersESP = false,
    AutoRaceCyborg = false,
    FovSize = 350,
    AimbotSkill = false,
    AutoFinishTrail = false,
    EnabledFullBright = false,
    Fly = false,
    AutoFarmSeaBeasts = false,
    LimitAmount = 1,
    EnabledSpawnCakePrince = false,
    EnabledRiskModeChests = false,
    EnabledBuyLegendarySwordHOP = false,
    Version = "MARUNEWUIBF20NEWUI",
    AutoFindFullMoon = false,
    AutoObservationv2 = false,
    SelectIgnore = {},
    AutoFarmPlayer = false,
    AutoFarmBoneMasteryFruits = false,
    AutoPole = false,
    AutoElectricClaw = false,
    AutoFarmBone = false,
    AutoCakePrince = false,
    AutoFarmLevel = false,
    AutoAncientOneQuest = false,
    BoneSurprise = false,
    EnabledHOPFindFruits = false,
    AutoWhiteScreen = false,
    RTXMode = false,
    SelectDungeons = "",
    PointsUP = 1,
    AutoCollectPresent = false,
    AutoPullLever = true,
    AutoActiveHelper = false,
    SkillDelayV = 1,
    AutoFarmEctoplasm = false,
    EnabledBuyOrderBossChip = false,
    AutoValkyrie = false,
    EnabledFullMoonHOP = false,
    SelectSeaZones = "",
    EnabledUnstoreFruits = false,
    AutoTushita = false,
    AutoWarriorHelmet = false,
    SelectMethodSword = "",
    AutoBuyLegendarySword = false,
    DontShowEmuChange = false,
    SelectHost = "",
    EnabledCastleRaid = false,
    DisabledDamageText = false,
    EnabledMysitcIslandHOP = false,
    SelectBosses = {},
    JobId = "2840c4cc-3c98-412b-b996-f6b4c288bab9\n",
    AutoFarmCakePiratesMasteryFruits = false,
    AutoFarmMirrorFractral = false,
    AutoFindAdvanceFruitsDealer = false,
    AutoCraftSharkAnchor = false,
    EnabledDriveBoatsShip = false,
    AutoFarmAllSwordMastery = false,
    IslandESP = false,
    AutoRengoku = false,
    AutoCollectAzureEmber = false,
    DistanceX = 5,
    DisabledCanCanCollideBoat = false,
    AutoFarmDarkFragments = false,
    EnabledChestsHOP = false,
    AutoRaceGhoul = false,
    MobAura = false,
    AutoEvoRacev2 = false,
    AutoFarmBoneMasteryGun = false,
    FruitCost = 1000000,
    SpeedBoat = 250,
    EnabledRaceTransformed = false,
    SkillDelayX = 1,
    WhiteScreen = false,
    AutoFarmFruitsMastery = false,
    AutoMidnightBlade = false,
    SelectStats = {},
    SelectEnchancementsColor = {},
    AutoMusketeer = false,
    GearESP = false,
    SelectGears = "",
    AutoFarmCakePiratesMasteryGun = false,
    AutoSelcetDungeons = false,
    NextPlayerIn = 6,
    AutoFarmMaterials = false,
    EnabledKillPlayers = false,
    EnabledHOPServerItems = false,
    MasterofAurasESP = false,
    FastAttack = true,
    AutoCameraToMoon = false,
    AutoFarmDungeon = false,
    EnabledFarmSeaBeastsHOP = false,
    EnabledAcceptQuests = false,
    SelectBoats = "",
    PryBone = false,
    AutoDeathStep = false,
    AutoFinishDoughAwaken = false,
    AutoFindMysticIsland = false,
    DistanceY = 28,
    MaxDisc = 2500,
    AutoSuperhuman = false,
    SelectLimit = "",
    AutoYama = false,
    AutoBuyEnchancementColor = false,
    SelectAbilities = {},
    AutoFinishQuestsYama = false,
    SelectCombat = "",
    EnabledBringFruits = false,
    DriveForWard = false,
    SpawmJoin = false,
    EnabledTweenToRaceDoors = false,
    AutoBuddy_Sword = false,
    AutoCavander = false,
    AutoFarmBosses = false,
    AutoFinishQuestsTushita = false,
    SelectIsland = "",
    AutoGodhuman = false,
    EnabledBuyChips = false,
    EnabledFarmBountyHOP = false,
    NoCooldownAbilities = false,
    AutoFarmBounty = false,
    TryluckBone = false,
    AimbotGun = false,
    AutoFinishPhoenixAwaken = false,
    EnabledUsingBoat = true,
    AutoBisento2 = false,
    EnabledKillAura = false,
    SelectSkills = {"Z", "X", "C"},
    EnabledFarmObservationHOP = false,
    SaveEmuChange = false,
    EnabledHOPEliteHunter = false,
    TeleportPlayers = false,
    AutoFarmOrderBoss = false,
    SelectPlayer = "",
    EnabledBuyGears = false,
    AutoFarmMysticIslandChests = false,
    AutoSoulGuiTar = false,
    AutoEliteHunter = false,
    AutoDragonTalon = false,
    EnabledCursedChests = false,
    AutoEvoRacev3 = false,
    LegendarySwordDealerESP = false,
    AutoStoredFruits = false,
    AutoCursedDualKatana = false,
    SpectatePlayers = false,
    AimbotMethod = "",
    AutoDragonTrident = false,
    EnabledTweenToFruits = false,
    AutoActiveRaces = false,
    AutoStats = false,
    EnabledFovAimbot = false,
    AutoFarmGhostShip = false,
    AutoSaber = false,
    SkillDelayC = 1,
    HopInTime = 200,
    TeleportIsland = false,
    IgnoreMonsters = {},
    AutoSerpent_Bow = false,
    EnabledBuyEnchancementColorHOP = false,
    AutoTTK = false,
    DistanceZ = 5,
    SafeMode = false,
    AutoPressW = false,
    EnabledFarmDungeonHOP = false,
    MysticIslandESP = true,
    AutoFarmObservation = false,
    KillAtForMastery = 30,
    EnabledStartDungeon = false,
    SkillDelayZ = 1,
    SelectDevilFruits = {},
    WalkOnWater = false,
    SelectMaterials = {},
    DamageAura = false,
    FruitsESP = false,
    EnabledPvP = false,
    EnabledTradeWithSpy = false,
    SelectWeapon = "Melee",
    AutoTradeSweetChalice = false,
    AutoBuyFruits = false,
    AutoSwanGlasses = false,
    EnabledRemoveFogs = false,
    AutoFarmGunMastery = false,
    SemiMinkRace = false
}

repeat
    task.wait()
until  game:IsLoaded()
task.spawn(function()
    if game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("ZQuestProgress","Check") == 1 then
        if game.PlaceId == 7449423635 then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("TravelZou")
        end
    else
       while true do task.wait(5)
        request({
            Url = "http://45.136.254.74:4618/account/change/" .. game.Players.LocalPlayer.Name,
            Method = "POST",
            Body = HttpService:JSONEncode({})
         })
        end
    end
end)
task.spawn(function()
    while true do task.wait(5)
        DoorStatus = game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("CommF_"):InvokeServer("CheckTempleDoor")
    end
end)
function requestServerId()
	local requestServer = request({
		Url = "http://45.136.254.74:4618/server/mirage",
		method = "GET",
	})
    print(requestServer.Body)
	local response = HttpService:JSONDecode(requestServer.Body)
	if typeof(response["message"]) == "string" then
		return "";
	end
	local passThroughtRequest = request({
		Url = string.format("http://45.136.254.74:4618/server/%s/passthrough/%s", response["data"]["uuid"], game.Players.LocalPlayer.UserId),
		Method = "GET",
	})
	local passThroughtResponse = HttpService:JSONDecode(passThroughtRequest.Body)
	if passThroughtResponse["passthrough"] then
		return requestServerId()
	end
	request({
		Url = string.format("http://45.136.254.74:4618/server/%s/passthrough/%s", response["data"]["uuid"], game.Players.LocalPlayer.UserId),
		Method = "POST",
		Body = HttpService:JSONEncode({})
	})
	return response["data"]["uuid"]
end
task.spawn(function()
    while true do task.wait()
        if not Workspace.Map:FindFirstChild("MysticIsland") then
            local jobId = requestServerId()
            print(jobId)
            task.spawn(function()
                print(request({
                    Url = "http://45.136.254.74:4618/server/" .. game.JobId .. "/delete",
                }).Body)
            end)
            print(string.len(jobId))
            if string.len(jobId) > 0 then
                print("Teleporting")
                game:GetService("TeleportService"):TeleportToPlaceInstance(7449423635,jobId,game.Players.LocalPlayer)
                task.wait(10)
            end
        end
    end
end)
task.spawn(function()
    repeat
        task.wait() 
    until  DoorStatus
    while true do task.wait(5) 
        warn("Request Change account")
        warn(request({
            Url = "http://45.136.254.74:4618/account/change/" .. game.Players.LocalPlayer.Name,
         }).Body)
    end
end)
task.spawn(function()
   repeat
        task.wait()
   until Workspace.Map:FindFirstChild("MysticIsland") 
   if not isfolder("Maru Hub Premium Scripts") then
        makefolder("Maru Hub Premium Scripts")
   end
   writefile("Maru Hub Premium Scripts/Blox_Fruits-" .. game.Players.LocalPlayer.Name ..".json", HttpService:JSONEncode(MaruHubConfig))
   _G.Script_Language = "Thai"
   _G.Team = "Pirate"
   task.spawn(function()
        repeat
            task.wait()
        until typeof(_G.SaveSettings) == "table"
        _G.SaveSettings["AutoPullLever"] = true
   end)
   loadstring(game:HttpGet("https://raw.githubusercontent.com/xshiba/MaruBitkub/main/Mobile.lua"))()
end)
