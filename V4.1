if game:GetService("Players").LocalPlayer.PlayerGui["Main (minimal)"].ChooseTeam then
    print("true")
    repeat
        task.wait()
        local chooseTeamGui = game:GetService("Players").LocalPlayer.PlayerGui["Main (minimal)"].ChooseTeam
 
        -- ตรวจสอบว่า GUI ChooseTeam ปรากฏอยู่หรือไม่
        if chooseTeamGui.Visible then
            for _, v in pairs(getconnections(chooseTeamGui.Container.Pirates.Frame.TextButton.Activated)) do
                pcall(function()
                    v.Function()
                end)
            end
        end
    -- ทำซ้ำจนกว่า Player จะมีทีมและเกมโหลดเสร็จ
    until game.Players.LocalPlayer.Team ~= nil and game:IsLoaded()
end

local HttpService = game:GetService("HttpService")
getgenv().Key = "MARU-157L3-ANC5-XCEOG-267H-X6O3A"
getgenv().id = "354662781859004417"


repeat
    task.wait()
until game:IsLoaded()

function SwitchSword()
    local Inventory = game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("getInventory")
    local Sword = nil
    for i,v in pairs(Inventory) do
        if v["Name"] == "Saber" then
            Sword = "Saber"
        elseif v["Name"] == "Cursed Dual Katana" and Sword == nil then
            Sword = "Cursed Dual Katana"
        end
    end
    if Sword ~= nil then
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("LoadItem",tostring(Sword))
    end
end

SwitchSword()

local MaruhubConfig = {
    InstanceStats = false,
    AutoBuyFruitsAdvanceStock = false,
    AutoClick = false,
    FastAttack = true,
    SemiNoBusyCharacter = false,
    AutoFindIslandMamma = false,
    AutoFarmChests = false,
    SemiNoClip = false,
    EnabledFactoryFarm = false,
    EnabledResetCharacter = false,
    AutoFarmSeaEvents = false,
    EnabledDriveBoats = false,
    SelectAbilities = {},
    AutoFarmGhostShip = false,
    HopUntilFoundGodChalice = false,
    AutoRandomFruits = false,
    AutoTrident = false,
    LimitValues = false,
    ByPassTP = false,
    AutoRainbowHaki = false,
    PlayersESP = false,
    AutoRaceCyborg = true,
    FovSize = 350,
    AimbotSkill = false,
    AutoFinishTrail = false,
    EnabledFullBright = false,
    AutoCollectBlazeEmber = false,
    AutoFarmSeaBeasts = false,
    MysteriousManESP = false,
    LimitAmount = 1,
    EnabledSpawnCakePrince = false,
    EnabledRiskModeChests = false,
    EnabledBuyLegendarySwordHOP = false,
    Version = "MARUNEWUIBF20NEWUI",
    AutoFindFullMoon = false,
    AutoObservationv2 = false,
    SelectIgnore = {},
    AutoFarmPlayer = false,
    AutoFarmBoneMasteryFruits = false,
    SelectWeapon = "Melee",
    AutoElectricClaw = false,
    AutoFarmBone = false,
    AutoCakePrince = false,
    AutoFarmLevel = false,
    AutoCollectDragonEggs = false,
    AutoAncientOneQuest = false,
    AutoPressW = false,
    AutoBuyLegendarySword = false,
    BoneSurprise = false,
    AutoPullLever = true,
    EnabledHOPFindFruits = false,
    AutoWhiteScreen = false,
    RTXMode = false,
    SkillDelayZ = 1,
    SelectDungeons = "",
    PointsUP = 1,
    EnabledMysitcIslandHOP = false,
    AutoBuyFruits = false,
    SaveEmuChange = false,
    DisabledDamageText = true,
    SelectHost = "",
    AutoActiveHelper = false,
    SkillDelayV = 1,
    AutoFarmEctoplasm = false,
    FruitsESP = false,
    EnabledZouQuests = false,
    SelectBosses = {},
    AutoFinishPhoenixAwaken = false,
    EnabledBuyOrderBossChip = false,
    AutoRelicEvents = false,
    AutoFarmDarkFragments = false,
    AutoDojoQuests = false,
    AutoValkyrie = false,
    EnabledChestsHOP = false,
    EnabledFullMoonHOP = false,
    SelectSeaZones = "",
    EnabledUnstoreFruits = false,
    AutoTushita = false,
    AutoFarmBoneMasteryGun = false,
    AutoWarriorHelmet = false,
    SelectMethodSword = "",
    IgnoreMonsters = {},
    AutoFarmFruitsMastery = false,
    SkillDelayC = 1,
    SelectGears = "",
    KillAtForMastery = 30,
    SkillDelayX = 1,
    AutoFarmDungeon = false,
    JobId = "",
    AutoFarmCakePiratesMasteryFruits = false,
    AutoFarmMirrorFractral = false,
    AutoFindAdvanceFruitsDealer = false,
    AutoGodhuman = false,
    EnabledDriveBoatsShip = false,
    AutoFarmAllSwordMastery = false,
    AutoSharkmanKarate = false,
    AutoRengoku = false,
    AutoCollectAzureEmber = false,
    DistanceX = 5,
    AutoCollectDragonBones = false,
    AutoEvoRacev2 = false,
    EnabledFarmDungeonHOP = false,
    AutoRaceGhoul = false,
    MobAura = false,
    AutoFarmCandy = false,
    SafeMode = false,
    FruitCost = 1000000,
    SpeedBoat = 250,
    IslandESP = false,
    ImageKaitun = "",
    WhiteScreen = false,
    AutoTTK = false,
    AutoMidnightBlade = false,
    AutoSelcetDungeons = false,
    SelectEnchancementsColor = {},
    AutoMusketeer = false,
    GearESP = false,
    AimbotMethodMonster = "",
    AutoFarmCakePiratesMasteryGun = false,
    AutoFarmBosses = false,
    AutoHallowScythe = false,
    AutoBuddy_Sword = false,
    AutoStats = false,
    EnabledFovAimbot = false,
    MasterofAurasESP = false,
    EnabledFarmBountyHOP = false,
    AutoCameraToMoon = false,
    EnabledUsingBoat = false,
    EnabledFarmSeaBeastsHOP = false,
    EnabledAcceptQuests = false,
    AutoFarmMaterials = false,
    PryBone = false,
    AutoDeathStep = false,
    AutoFinishDoughAwaken = false,
    AutoCraftVolcanicMagnet = false,
    DistanceY = 28,
    MaxDisc = 2500,
    AutoSuperhuman = false,
    SelectLimit = "",
    AutoYama = false,
    DisabledCanCanCollideBoat = false,
    AutoCollectBerries = false,
    SpectatePlayers = false,
    EnabledBuyGears = false,
    EnabledBringFruits = false,
    DriveForWard = false,
    SpawmJoin = false,
    EnabledTweenToRaceDoors = false,
    AutoFindMysticIsland = false,
    AutoCavander = false,
    EnabledDressrosaQuests = false,
    TeleportPlayers = false,
    SelectIsland = "",
    AutoSoulGuiTar = false,
    EnabledBuyChips = false,
    TryluckBone = false,
    NoCooldownAbilities = false,
    RemoveRocks = false,
    AimbotMethod = "",
    AutoFarmBounty = false,
    AutoCollectBerriesHOP = false,
    AutoFinishQuestsTushita = false,
    AimbotGun = false,
    EnabledKillAura = false,
    SelectSkills = {"Z", "X", "C"},
    AutoBisento2 = false,
    EnabledCastleRaid = false,
    AutoPole = false,
    AutoFarmGunMastery = false,
    AutoFarmOrderBoss = false,
    EnabledFarmObservationHOP = false,
    EnabledHOPEliteHunter = false,
    AutoFarmMysticIslandChests = false,
    AutoSwanGlasses = false,
    AutoEliteHunter = false,
    AutoDragonTalon = false,
    EnabledCursedChests = false,
    AutoEvoRacev3 = false,
    AutoFinishQuestsYama = false,
    AutoStoredFruits = false,
    AutoCursedDualKatana = false,
    AimbotGunNearMonster = false,
    SelectBoats = "",
    AutoDragonTrident = false,
    EnabledTweenToFruits = false,
    AutoActiveRaces = false,
    EnabledHOPServerItems = false,
    AutoDragonHunter = false,
    SelectCombat = "",
    AutoSaber = false,
    DontShowEmuChange = false,
    HopInTime = 200,
    TeleportIsland = false,
    AutoBuyEnchancementColor = false,
    AutoSerpent_Bow = false,
    EnabledBuyEnchancementColorHOP = false,
    NextPlayerIn = 6,
    DistanceZ = 5,
    SelectPlayer = "",
    EnabledKillPlayers = false,
    AutoAwakenerFruits = false,
    MysticIslandESP = false,
    AutoFarmObservation = false,
    SelectStats = {},
    EnabledStartDungeon = false,
    EnabledRaceTransformed = false,
    SelectDevilFruits = {},
    WalkOnWater = false,
    AutoShoot = false,
    DamageAura = false,
    AutoCraftSharkAnchor = false,
    EnabledPvP = false,
    EnabledTradeWithSpy = false,
    AutoCollectFireFlowers = false,
    AutoTradeSweetChalice = false,
    Fly = false,
    AutoCollectPresent = false,
    EnabledRemoveFogs = false,
    SelectMaterials = {},
    SemiMinkRace = false
}

if not isfolder("Maru Hub Premium Scripts") then
    makefolder("Maru Hub Premium Scripts")
end
writefile("Maru Hub Premium Scripts/Blox_Fruits-" .. game.Players.LocalPlayer.Name ..".json", HttpService:JSONEncode(MaruhubConfig))
loadstring(game:HttpGet("https://raw.githubusercontent.com/xshiba/MaruBitkub/main/Mobile.lua"))()

repeat task.wait() until game:IsLoaded() and game.Players.LocalPlayer.Team ~= nil
local plr = game.Players.LocalPlayer
local placeid = game.PlaceId

while true do task.wait()
    repeat task.wait()
        game:GetService("ReplicatedStorage").Remotes:FindFirstChild("CommF_"):InvokeServer("TravelDressrosa")
        task.wait(1)
    until placeid == 4442272183
end

